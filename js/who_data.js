export const WHO_DATA = {
  boys: {
    // Weight-for-age (kg)
    weight: [
      { m: 0, p3: 2.5, p15: 2.9, p50: 3.3, p85: 3.9, p97: 4.4 },
      { m: 1, p3: 3.4, p15: 3.9, p50: 4.5, p85: 5.1, p97: 5.8 },
      { m: 2, p3: 4.3, p15: 4.9, p50: 5.6, p85: 6.3, p97: 7.1 },
      { m: 3, p3: 5.0, p15: 5.7, p50: 6.4, p85: 7.2, p97: 8.0 },
      { m: 4, p3: 5.6, p15: 6.2, p50: 7.0, p85: 7.9, p97: 8.7 },
      { m: 5, p3: 6.0, p15: 6.7, p50: 7.5, p85: 8.4, p97: 9.3 },
      { m: 6, p3: 6.4, p15: 7.1, p50: 7.9, p85: 8.8, p97: 9.8 },
      { m: 7, p3: 6.7, p15: 7.4, p50: 8.3, p85: 9.2, p97: 10.3 },
      { m: 8, p3: 6.9, p15: 7.7, p50: 8.6, p85: 9.6, p97: 10.7 },
      { m: 9, p3: 7.1, p15: 7.9, p50: 8.9, p85: 9.9, p97: 11.0 },
      { m: 10, p3: 7.4, p15: 8.2, p50: 9.2, p85: 10.2, p97: 11.4 },
      { m: 11, p3: 7.6, p15: 8.4, p50: 9.4, p85: 10.5, p97: 11.7 },
      { m: 12, p3: 7.7, p15: 8.6, p50: 9.6, p85: 10.8, p97: 12.0 },
      { m: 13, p3: 7.9, p15: 8.8, p50: 9.9, p85: 11.0, p97: 12.3 },
      { m: 14, p3: 8.1, p15: 9.0, p50: 10.1, p85: 11.3, p97: 12.6 },
      { m: 15, p3: 8.3, p15: 9.2, p50: 10.3, p85: 11.5, p97: 12.9 },
      { m: 16, p3: 8.4, p15: 9.4, p50: 10.5, p85: 11.7, p97: 13.1 },
      { m: 17, p3: 8.6, p15: 9.6, p50: 10.7, p85: 12.0, p97: 13.4 },
      { m: 18, p3: 8.8, p15: 9.8, p50: 10.9, p85: 12.2, p97: 13.7 },
      { m: 19, p3: 8.9, p15: 10.0, p50: 11.1, p85: 12.5, p97: 14.0 },
      { m: 20, p3: 9.1, p15: 10.1, p50: 11.3, p85: 12.7, p97: 14.2 },
      { m: 21, p3: 9.2, p15: 10.3, p50: 11.5, p85: 12.9, p97: 14.5 },
      { m: 22, p3: 9.4, p15: 10.5, p50: 11.8, p85: 13.2, p97: 14.8 },
      { m: 23, p3: 9.5, p15: 10.7, p50: 12.0, p85: 13.4, p97: 15.0 },
      { m: 24, p3: 9.7, p15: 10.8, p50: 12.2, p85: 13.6, p97: 15.3 }
    ]
  }
};

export function interpolateWho(data, month) {
  const lower = data.find(d => d.m <= month && d.m + 1 > month) || data[data.length - 1];
  const upper = data.find(d => d.m >= month) || data[data.length - 1];
  if (lower.m === upper.m) return lower;
  
  const ratio = (month - lower.m) / (upper.m - lower.m);
  const result = {};
  ['p3', 'p15', 'p50', 'p85', 'p97'].forEach(k => {
    result[k] = lower[k] + (upper[k] - lower[k]) * ratio;
  });
  return result;
}